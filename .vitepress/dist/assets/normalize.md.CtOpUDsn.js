import{_ as n,o as a,c as p,ai as e}from"./chunks/framework.BdTV7y8C.js";const h=JSON.parse('{"title":"开发规范","description":"","frontmatter":{},"headers":[],"relativePath":"normalize.md","filePath":"normalize.md"}'),t={name:"normalize.md"};function o(i,s,l,c,u,r){return a(),p("div",null,[...s[0]||(s[0]=[e(`<h1 id="开发规范" tabindex="-1">开发规范 <a class="header-anchor" href="#开发规范" aria-label="Permalink to “开发规范”">​</a></h1><h2 id="git提交规范conventionalcommits" tabindex="-1">git提交规范<a href="https://www.conventionalcommits.org/en/v1.0.0/" target="_blank" rel="noreferrer">conventionalcommits</a> <a class="header-anchor" href="#git提交规范conventionalcommits" aria-label="Permalink to “git提交规范conventionalcommits”">​</a></h2><ul><li>本项目的git提交规范遵循<a href="https://www.conventionalcommits.org/en/v1.0.0/" target="_blank" rel="noreferrer">conventionalcommits</a>并进行了自定义配置，具体配置规则如下</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>&quot;types&quot;: [</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>    &quot;type&quot;: &quot;feat&quot;,</span></span>
<span class="line"><span>    &quot;section&quot;: &quot;新功能[feat]&quot;</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>    &quot;type&quot;: &quot;fix&quot;,</span></span>
<span class="line"><span>    &quot;section&quot;: &quot;Bug 修复[fix]&quot;</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>    &quot;type&quot;: &quot;chore&quot;,</span></span>
<span class="line"><span>    &quot;section&quot;: &quot;其他[chore]&quot;</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>    &quot;type&quot;: &quot;docs&quot;,</span></span>
<span class="line"><span>    &quot;section&quot;: &quot;文档更改[docs]&quot;</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>    &quot;type&quot;: &quot;style&quot;,</span></span>
<span class="line"><span>    &quot;section&quot;: &quot;样式更改[style]&quot;</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>    &quot;type&quot;: &quot;refactor&quot;,</span></span>
<span class="line"><span>    &quot;section&quot;: &quot;重构[refactor]&quot;</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>    &quot;type&quot;: &quot;perf&quot;,</span></span>
<span class="line"><span>    &quot;section&quot;: &quot;性能改进[perf]&quot;</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>    &quot;type&quot;: &quot;test&quot;,</span></span>
<span class="line"><span>    &quot;section&quot;: &quot;测试添加/更正[test]&quot;</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>    &quot;type&quot;: &quot;revert&quot;,</span></span>
<span class="line"><span>    &quot;section&quot;: &quot;还原提交[revert]&quot;</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>    &quot;type&quot;: &quot;ignore&quot;,</span></span>
<span class="line"><span>    &quot;section&quot;: &quot;需要忽略[ignore]&quot;,</span></span>
<span class="line"><span>    &quot;hidden&quot;: true</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>    &quot;type&quot;: &quot;ci&quot;,</span></span>
<span class="line"><span>    &quot;section&quot;: &quot;CI发版[ci]&quot;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>]</span></span></code></pre></div><ul><li>如果使用<code>vscode</code>编辑器，建议安装<a href="https://marketplace.visualstudio.com/items?itemName=vivaxy.vscode-conventional-commits" target="_blank" rel="noreferrer">Conventional Commits</a>插件,此插件会自动生成对应格式提交日志</li></ul><h2 id="husky自动化" tabindex="-1">husky自动化 <a class="header-anchor" href="#husky自动化" aria-label="Permalink to “husky自动化”">​</a></h2><ol><li>安装时不使用<code>npm install</code>直接使用<code>npm run i </code>,或者初始化后在当前目录下运行<code>npx husky install</code></li><li>或者在 package.json加入以下<code>scripts</code>再install (<a href="https://typicode.github.io/husky/#/?id=install" target="_blank" rel="noreferrer">husky对应文档</a>)<div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>//npm/pnpm</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>     &quot;scripts&quot;: {</span></span>
<span class="line"><span>         &quot;prepare&quot;: &quot;husky install&quot;</span></span>
<span class="line"><span>     }</span></span>
<span class="line"><span> }</span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>//yarn</span></span>
<span class="line"><span> {</span></span>
<span class="line"><span> &quot;private&quot;: true,</span><span> // ← your package is private, you only need postinstall</span></span>
<span class="line"><span> &quot;scripts&quot;: {</span></span>
<span class="line"><span>     &quot;postinstall&quot;: &quot;husky install&quot;</span></span>
<span class="line"><span> }</span></span>
<span class="line"><span> }</span></span></code></pre></div></li></ol><p>会自动生成生成<code>husky</code>对应的git hook<code>husky</code>会在git提交时进行以下操作:</p><ul><li>自动运行<code>prettier --write</code>进行代码格式化</li><li>自动运行<code>eslint --cache --fix</code>进行<code>eslint</code>校验和修复,如果无法修复会报错并停止提交</li><li>自动校验提交<code>message</code>是否符合<code>conventionalcommits</code>规范，如果不符合会报错并停止提交</li></ul><h3 id="husky-在linux-mac下不生效" tabindex="-1">husky 在linux/mac下不生效 <a class="header-anchor" href="#husky-在linux-mac下不生效" aria-label="Permalink to “husky 在linux/mac下不生效”">​</a></h3><p>husky目前有一个bug, windows下创建的hooks 当在linux/macos下拉取后即使执行了<code>husky install</code>也不能成功调用，需要单独执行下<code>chmod ug+x .husky/*</code> 赋予脚本执行权限。对应的<a href="https://github.com/typicode/husky/issues/1177" target="_blank" rel="noreferrer">issue</a></p>`,11)])])}const d=n(t,[["render",o]]);export{h as __pageData,d as default};
