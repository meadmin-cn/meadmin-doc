import{_ as a,o as i,c as n,ai as e}from"./chunks/framework.BdTV7y8C.js";const c=JSON.parse('{"title":"常见问题","description":"","frontmatter":{},"headers":[],"relativePath":"client/admin/other/question.md","filePath":"client/admin/other/question.md"}'),p={name:"client/admin/other/question.md"};function l(t,s,h,r,k,o){return i(),n("div",null,[...s[0]||(s[0]=[e(`<h1 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to “常见问题”">​</a></h1><h2 id="如何配置浏览器兼容性" tabindex="-1">如何配置浏览器兼容性 <a class="header-anchor" href="#如何配置浏览器兼容性" aria-label="Permalink to “如何配置浏览器兼容性”">​</a></h2><p>浏览器兼容性基于<code>babel</code>实现，Babel 是一个工具链，主要用于在当前和旧的浏览器或环境中，将 ECMAScript 2015+ 代码转换为 JavaScript 向后兼容版本的代码。本项目是用<code>@rollup/plugin-babel</code>设置的兼容性，配置位置为<code>vite.coinfig.ts</code></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>babel({</span></span>
<span class="line"><span>babelrc: false,</span></span>
<span class="line"><span>extensions: [&#39;.ts&#39;, &#39;.tsx&#39;],</span></span>
<span class="line"><span>plugins: [[&#39;@babel/plugin-transform-runtime&#39;, { useESModules: true }]],</span></span>
<span class="line"><span>presets: [</span></span>
<span class="line"><span>    [</span></span>
<span class="line"><span>    &#39;@babel/preset-env&#39;,</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        targets: [&#39;chrome 87&#39;, &#39;safari 13&#39;, &#39;firefox 78&#39;, &#39;edge 88&#39;],</span></span>
<span class="line"><span>        useBuiltIns: &#39;usage&#39;,</span></span>
<span class="line"><span>        bugfixes: true,</span></span>
<span class="line"><span>        loose: false,</span></span>
<span class="line"><span>        modules: false,</span></span>
<span class="line"><span>        corejs: createRequire(import.meta.url)(&#39;core-js/package.json&#39;).version,</span></span>
<span class="line"><span>        shippedProposals: true,</span></span>
<span class="line"><span>        ignoreBrowserslistConfig: true,</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    ],</span></span>
<span class="line"><span>],</span></span>
<span class="line"><span>exclude: &#39;node_modules/**&#39;,</span></span>
<span class="line"><span>babelHelpers: &#39;runtime&#39;,</span></span>
<span class="line"><span>}),</span></span></code></pre></div><p>如果想更改兼容性版本，直接更改targets数组即可，更多说明请参考<a href="https://babel.docschina.org/docs/en/babel-preset-env/#targets" target="_blank" rel="noreferrer">babel文档</a></p><h2 id="首次启动特别慢是为什么" tabindex="-1">首次启动特别慢是为什么 <a class="header-anchor" href="#首次启动特别慢是为什么" aria-label="Permalink to “首次启动特别慢是为什么”">​</a></h2><p>首次启动时vite会扫描src里面引用到的包进行缓存，所以第一次启动会特别慢，之后再次启动因为包已经被缓存了就会很快。</p><p>如果想让首次启动加快 可以注释掉<code>vite.coinfig.ts</code>的以下代码:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>    entries: [&#39;./src/**/*.{ts,tsx,vue}&#39;],</span></span></code></pre></div><p>这样首次启动只寻找核心包进行缓存，但首次进入每个页面后会对页面所引用的包进行缓存，导致进入页面的时间变慢</p><h2 id="启动后有一堆resolvecomponent-can-only-be-used-in-render-or-setup-警告" tabindex="-1">启动后有一堆<code>resolveComponent can only be used in render() or setup().</code>警告 <a class="header-anchor" href="#启动后有一堆resolvecomponent-can-only-be-used-in-render-or-setup-警告" aria-label="Permalink to “启动后有一堆resolveComponent can only be used in render() or setup().警告”">​</a></h2><p>这是因为组件化加载语言包，需要在路由切换时加载子组件。</p><p>解决方法：</p><p>1.如果不需要按组件加载语言包,可设置配置项<a href="./../guide/config.html#国际化配置"><code>loadMessageConfig.componentLoad</code></a>为<code>false</code>，则不会产生此警告。</p><p>2.或者在<code>src/app.ts</code>设置<a href="https://cn.vuejs.org/api/application.html#app-config-warnhandler" target="_blank" rel="noreferrer"><code>app.config.warnHandler</code></a>屏蔽掉对应wanging,代码示例：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> bootscrapt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;LayoutMenuItem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, layoutMenuItem);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">allSettled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mitter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(event.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">START</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, app));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  mitter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(event.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">READY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, app);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //忽略resolveComponent can only be used in render() or setup().的警告</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  app.config.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">warnHandler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">msg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">instance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">trace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(msg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;resolveComponent can only be used in render() or setup().&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`[Vue warn]: \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">msg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, instance, trace)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;#app&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="路由切换后会变为空白页" tabindex="-1">路由切换后会变为空白页 <a class="header-anchor" href="#路由切换后会变为空白页" aria-label="Permalink to “路由切换后会变为空白页”">​</a></h2><p>vue3虽然没要求必须有根元素，但<a href="https://cn.vuejs.org/api/built-in-components.html#transition" target="_blank" rel="noreferrer"><code>&lt;Transition&gt;</code></a>动画和<a href="https://cn.vuejs.org/api/built-in-components.html#keepalive" target="_blank" rel="noreferrer"><code>KeepAlive</code></a>缓存都要求只有一个根元素,所以出现此情况请检查路由对应的<code>vue</code>页面是否只有一个根元素。</p><h2 id="如何查看示例接口的出入参格式" tabindex="-1">如何查看示例接口的出入参格式 <a class="header-anchor" href="#如何查看示例接口的出入参格式" aria-label="Permalink to “如何查看示例接口的出入参格式”">​</a></h2><ol><li><p>在mock/apiDemo/直接查看接口定义</p><p>接口请求都是通过mockjs模拟的 对应的定义文件在<code>mock/apiDemo/</code>文件夹下</p></li><li><p>dev模式下启动官方示例 在 network直接查看请求即可</p><p>当中dev模式下 <code>@meadmin-cn/vite-plugin-mock</code>插件会启动后端服务，对应的请求都是正常发出不经过mockjs拦截可直接在network调试。</p></li><li><p>在src/api中 看对应的返回值入参定义</p><p>当前项目是ts项目直接看接口函数的对应ts定义即可得知对应的即可出入参格式</p></li></ol>`,20)])])}const E=a(p,[["render",l]]);export{c as __pageData,E as default};
