import{_ as s,o as i,c as a,ai as t}from"./chunks/framework.BdTV7y8C.js";const c=JSON.parse('{"title":"MeKeepAlive","description":"","frontmatter":{},"headers":[],"relativePath":"client/admin/components/core/meKeepAlive.md","filePath":"client/admin/components/core/meKeepAlive.md"}'),n={name:"client/admin/components/core/meKeepAlive.md"};function l(p,e,h,o,d,r){return i(),a("div",null,[...e[0]||(e[0]=[t(`<h1 id="mekeepalive" tabindex="-1">MeKeepAlive <a class="header-anchor" href="#mekeepalive" aria-label="Permalink to “MeKeepAlive”">​</a></h1><p>vue 官方的KeepAlive缓存只支持按组件名筛选过滤，这里自定义了MeKeepAlive组件,在KeepAlive的前提下增加了组件key过滤条件,其余规范和功能和KeepAlive组件一致，KeepAlive官方说明<a href="https://cn.vuejs.org/guide/built-ins/keep-alive.html" target="_blank" rel="noreferrer">KeepAlive</a></p><h2 id="组件props" tabindex="-1">组件props <a class="header-anchor" href="#组件props" aria-label="Permalink to “组件props”">​</a></h2><table tabindex="0"><thead><tr><th>props</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>max</td><td>number</td><td>限制最大缓存实例数</td></tr><tr><td>include</td><td>以英文逗号分隔的字符串、一个正则表达式，或是包含这两种类型的一个数组</td><td>过滤组件名白名单</td></tr><tr><td>exclude</td><td>以英文逗号分隔的字符串、一个正则表达式，或是包含这两种类型的一个数组</td><td>过滤组件名黑名单</td></tr><tr><td>includeKey</td><td>以英文逗号分隔的字符串、一个正则表达式，或是包含这两种类型的一个数组</td><td>过滤组件key白名单</td></tr><tr><td>excludeKey</td><td>以英文逗号分隔的字符串、一个正则表达式，或是包含这两种类型的一个数组</td><td>过滤组件key黑名单</td></tr></tbody></table><h2 id="使用演示" tabindex="-1">使用演示 <a class="header-anchor" href="#使用演示" aria-label="Permalink to “使用演示”">​</a></h2><p>这里只样式includeKey、excludeKey其余说明参考<a href="https://cn.vuejs.org/guide/built-ins/keep-alive.html" target="_blank" rel="noreferrer">KeepAlive</a></p><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">me-keep-alive</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> includeKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a,b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;component :is=&quot;view&quot; key=&quot;a&quot; /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;component :is=&quot;view&quot; key=&quot;b&quot; /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;component :is=&quot;view&quot; key=&quot;c&quot; /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">me-keep-alive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">me-keep-alive</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> excludeKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;component :is=&quot;view&quot; key=&quot;a&quot; /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;component :is=&quot;view&quot; key=&quot;b&quot; /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;component :is=&quot;view&quot; key=&quot;c&quot; /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">me-keep-alive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="局限性" tabindex="-1">局限性 <a class="header-anchor" href="#局限性" aria-label="Permalink to “局限性”">​</a></h2><p>因为vue编译模板时对<code>KeepAlive</code> <code>tagName</code>做了特殊处理,当<code>MeKeepAlive</code>和<code>Transition</code>组件、<code>TransitionGroup</code>配合使用使用时，只能用渲染函数的方式使用，在<code>Vue 的单文件组件 (即 *.vue 文件)</code>中请使用<code>KeepAlive</code>组件。</p><h3 id="transition-渲染函数使用示例" tabindex="-1"><code>Transition</code>+渲染函数使用示例 <a class="header-anchor" href="#transition-渲染函数使用示例" aria-label="Permalink to “Transition+渲染函数使用示例”">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>import { Transition } from &#39;vue&#39;;</span></span>
<span class="line"><span>const transitionProps={};</span></span>
<span class="line"><span>const meKeepAliveProps={};</span></span>
<span class="line"><span>h(Transition, transitionProps, { </span></span>
<span class="line"><span>  default: () =&gt; h(MeKeepAlive, meKeepAliveProps, [componentOptions])</span></span>
<span class="line"><span>})</span></span></code></pre></div>`,12)])])}const u=s(n,[["render",l]]);export{c as __pageData,u as default};
