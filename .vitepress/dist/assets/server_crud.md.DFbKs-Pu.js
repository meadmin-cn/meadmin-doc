import{_ as e,o as s,c as n,ai as i}from"./chunks/framework.BdTV7y8C.js";const h=JSON.parse('{"title":"一键crud","description":"","frontmatter":{},"headers":[],"relativePath":"server/crud.md","filePath":"server/crud.md"}'),p={name:"server/crud.md"};function l(d,a,t,c,o,r){return s(),n("div",null,[...a[0]||(a[0]=[i(`<h1 id="一键crud" tabindex="-1">一键crud <a class="header-anchor" href="#一键crud" aria-label="Permalink to “一键crud”">​</a></h1><p>本项目支持根据数据库实体文件 一键生成crud</p><h2 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to “示例”">​</a></h2><ul><li><code>pnpm meadmin crud exampleDemo --menu</code> --menu 参数代表数据库同步生成后台菜单</li></ul><p>运行后会生成以下文件</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>src/app/admin/dto/example/demoCreate.dto.ts 后端新增dto校验文件</span></span>
<span class="line"><span>src/app/admin/dto/example/demoUpdate.dto.ts 后端更新dto校验文件</span></span>
<span class="line"><span>src/app/admin/dto/example/demoQuery.dto.ts 后端查询入参dto校验文件</span></span>
<span class="line"><span>src/app/admin/service/example/demo.service.ts 后端service</span></span>
<span class="line"><span>src/app/admin/controller/example/demo.controller.ts 后端 controller</span></span>
<span class="line"><span>view/admin/src/api/example/demo.ts  前端 api接口定义 </span></span>
<span class="line"><span>view/admin/src/views/example/demo/lang/en.json 前端组件语言包 </span></span>
<span class="line"><span>view/admin/src/views/example/demo/dict.ts 前端字典</span></span>
<span class="line"><span>view/admin/src/views/example/demo/index.vue 前端字典列表组件</span></span>
<span class="line"><span>view/admin/src/views/example/demo/components/info.vue 前端字典详情组件</span></span>
<span class="line"><span>view/admin/src/views/example/demo/components/addOrUp.vue 前端字典新增/修改组件</span></span></code></pre></div><h2 id="参数说明" tabindex="-1">参数说明 <a class="header-anchor" href="#参数说明" aria-label="Permalink to “参数说明”">​</a></h2><p><code>pnpm meadmin [-m &lt;char&gt; 环境变量] crud entity实体文件 参数</code></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>  --model &lt;char&gt;            model名称会放到app/{model}下对应的文件夹 (default: &quot;admin&quot;)</span></span>
<span class="line"><span>  -f, --force               强制覆盖</span></span>
<span class="line"><span>  -n, --name &lt;char&gt;         使用的数据库配置defaultDataSourceName</span></span>
<span class="line"><span>  -d, --dbConfig &lt;char&gt;     数据库配置文件地址默认为当前目录下dist/config/database.js (default: &quot;G:\\\\my\\\\meadmin\\\\dist\\\\config\\\\database.js&quot;)        </span></span>
<span class="line"><span>  --del                     删除crud创建的文件</span></span>
<span class="line"><span>  --path &lt;char&gt;             生成的路径，默认根据驼峰转多级路径</span></span>
<span class="line"><span>  -c, --controller &lt;char&gt;   生成的controller路径，默认使用path</span></span>
<span class="line"><span>  --menu                    生成菜单</span></span>
<span class="line"><span>  --cov, --coverage &lt;char&gt;  生成代码发覆盖范围：b后端代码、a前端api接口代码、v前端view 代码、p后台权限校验，默认值bavp (default: &quot;bavp&quot;)</span></span></code></pre></div><p>例如 <code>pnpm meadmin -m dev crud exampleDemo --menu</code> 加载<code>dev</code>环境变量根据<code>dist/entities/exampleDemo.entity.js</code>生成对应的文件并创建菜单。</p><h2 id="规则" tabindex="-1">规则 <a class="header-anchor" href="#规则" aria-label="Permalink to “规则”">​</a></h2><p>自动生成具有以下规则</p><ul><li>根据<code>swagger</code>规则自动创建 必填、min、max、mobile、email校验规则</li><li>以“名称:值1=说明1;值2=说明2”，格式声明的备注会自动创建字典和下拉列表，并且支持number、string两种类型</li><li>根据枚举值自动创建 select下拉选项</li><li><code>BelongsToMany</code>及 <code>BelongsTo</code>关联自动创建远程下拉搜索</li><li>以<code>At</code>结尾自动创建时间范围筛选</li><li>关联<code>File</code>实体自动应用文件上传组件</li></ul>`,13)])])}const u=e(p,[["render",l]]);export{h as __pageData,u as default};
